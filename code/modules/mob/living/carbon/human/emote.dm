GLOBAL_LIST_INIT(human_default_emotes, list(
	/datum/decl/emote/visible/blink,
	/datum/decl/emote/audible/synth,
	/datum/decl/emote/audible/synth/beep,
	/datum/decl/emote/audible/synth/buzz,
	/datum/decl/emote/audible/synth/confirm,
	/datum/decl/emote/audible/synth/deny,
	/datum/decl/emote/audible/synth/scary,
	/datum/decl/emote/audible/synth/dwoop,
	/datum/decl/emote/audible/synth/boop,
	/datum/decl/emote/audible/synth/robochirp,
	/datum/decl/emote/audible/synth/ding,
	/datum/decl/emote/audible/synth/microwave,
	/datum/decl/emote/visible/nod,
	/datum/decl/emote/visible/shake,
	/datum/decl/emote/visible/shiver,
	/datum/decl/emote/visible/collapse,
	/datum/decl/emote/audible/gasp,
	/datum/decl/emote/audible/choke,
	/datum/decl/emote/audible/sneeze,
	/datum/decl/emote/audible/sniff,
	/datum/decl/emote/audible/snore,
	/datum/decl/emote/audible/whimper,
	/datum/decl/emote/audible/whistle,
	/datum/decl/emote/audible/whistle/quiet,
	/datum/decl/emote/audible/whistle/wolf,
	/datum/decl/emote/audible/whistle/summon,
	/datum/decl/emote/audible/yawn,
	/datum/decl/emote/audible/clap,
	/datum/decl/emote/audible/chuckle,
	/datum/decl/emote/audible/cough,
	/datum/decl/emote/audible/cry,
	/datum/decl/emote/audible/sigh,
	/datum/decl/emote/audible/laugh,
	/datum/decl/emote/audible/mumble,
	/datum/decl/emote/audible/grumble,
	/datum/decl/emote/audible/groan,
	/datum/decl/emote/audible/moan,
	/datum/decl/emote/audible/grunt,
	/datum/decl/emote/audible/slap,
	/datum/decl/emote/audible/crack,
	/datum/decl/emote/human/deathgasp,
	/datum/decl/emote/audible/giggle,
	/datum/decl/emote/audible/scream,
	/datum/decl/emote/audible/pain,
	/datum/decl/emote/visible/airguitar,
	/datum/decl/emote/visible/blink_r,
	/datum/decl/emote/visible/bow,
	/datum/decl/emote/visible/salute,
	/datum/decl/emote/visible/flap,
	/datum/decl/emote/visible/aflap,
	/datum/decl/emote/visible/drool,
	/datum/decl/emote/visible/eyebrow,
	/datum/decl/emote/visible/twitch,
	/datum/decl/emote/visible/dance,
	/datum/decl/emote/visible/twitch_v,
	/datum/decl/emote/visible/faint,
	/datum/decl/emote/visible/frown,
	/datum/decl/emote/visible/blush,
	/datum/decl/emote/visible/wave,
	/datum/decl/emote/visible/glare,
	/datum/decl/emote/visible/stare,
	/datum/decl/emote/visible/look,
	/datum/decl/emote/visible/point,
	/datum/decl/emote/visible/bellyrub,
	/datum/decl/emote/visible/raise,
	/datum/decl/emote/visible/grin,
	/datum/decl/emote/visible/shrug,
	/datum/decl/emote/visible/smile,
	/datum/decl/emote/visible/pale,
	/datum/decl/emote/visible/tremble,
	/datum/decl/emote/visible/wink,
	/datum/decl/emote/visible/hug,
	/datum/decl/emote/visible/dap,
	/datum/decl/emote/visible/signal,
	/datum/decl/emote/visible/handshake,
	/datum/decl/emote/visible/afold,
	/datum/decl/emote/visible/alook,
	/datum/decl/emote/visible/eroll,
	/datum/decl/emote/visible/hbow,
	/datum/decl/emote/visible/hip,
	/datum/decl/emote/visible/holdup,
	/datum/decl/emote/visible/hshrug,
	/datum/decl/emote/visible/crub,
	/datum/decl/emote/visible/erub,
	/datum/decl/emote/visible/fslap,
	/datum/decl/emote/visible/ftap,
	/datum/decl/emote/visible/hrub,
	/datum/decl/emote/visible/hspread,
	/datum/decl/emote/visible/pocket,
	/datum/decl/emote/visible/rsalute,
	/datum/decl/emote/visible/rshoulder,
	/datum/decl/emote/visible/squint,
	/datum/decl/emote/visible/tfist,
	/datum/decl/emote/visible/tilt,
	/datum/decl/emote/visible/spin,
	/datum/decl/emote/visible/sidestep,
	/datum/decl/emote/audible/snap,
	/datum/decl/emote/visible/vomit,
	/datum/decl/emote/visible/floorspin,
	/datum/decl/emote/visible/flip,
	/datum/decl/emote/audible/bug_hiss,
	/datum/decl/emote/audible/bug_buzz,
	/datum/decl/emote/audible/bug_chitter,
	/datum/decl/emote/audible/hiss,
	/datum/decl/emote/audible/chirp,
	/datum/decl/emote/audible/warble,
	/datum/decl/emote/audible/vox_shriek,
	/datum/decl/emote/audible/purr,
	/datum/decl/emote/audible/purrlong,
	/datum/decl/emote/audible/awoo,
	/datum/decl/emote/audible/awoo2,
	/datum/decl/emote/audible/belch,
	/datum/decl/emote/audible/growl,
	/datum/decl/emote/audible/woof,
	/datum/decl/emote/audible/woof2,
	/datum/decl/emote/audible/nya,
	/datum/decl/emote/audible/mrowl,
	/datum/decl/emote/audible/peep,
	/datum/decl/emote/audible/chirp,
	/datum/decl/emote/audible/hoot,
	/datum/decl/emote/audible/weh,
	/datum/decl/emote/audible/merp,
	/datum/decl/emote/audible/myarp,
	/datum/decl/emote/audible/bark,
	/datum/decl/emote/audible/bork,
	/datum/decl/emote/audible/mrow,
	/datum/decl/emote/audible/hypno,
	/datum/decl/emote/audible/hiss,
	/datum/decl/emote/audible/rattle,
	/datum/decl/emote/audible/squeak,
	/datum/decl/emote/audible/geck,
	/datum/decl/emote/audible/baa,
	/datum/decl/emote/audible/baa2,
	/datum/decl/emote/audible/mar,
	/datum/decl/emote/audible/wurble,
	/datum/decl/emote/audible/snort,
	/datum/decl/emote/audible/meow,
	/datum/decl/emote/audible/moo,
	/datum/decl/emote/audible/croak,
	/datum/decl/emote/audible/gao,
	/datum/decl/emote/audible/cackle,
	/datum/decl/emote/audible/squish,
	/datum/decl/emote/audible/spiderchitter,
	/datum/decl/emote/audible/spiderpurr,
	/datum/decl/emote/audible/squeaky,
	/datum/decl/emote/visible/mlem,
	/datum/decl/emote/visible/blep,
	/datum/decl/emote/helper/vwag,
	/datum/decl/emote/helper/vflap,
	/datum/decl/emote/audible/prbt,
	/datum/decl/emote/audible/gyoh,
	/datum/decl/emote/audible/rumble,
	/datum/decl/emote/audible/coyawoo,
	/datum/decl/emote/audible/coyawoo2,
	/datum/decl/emote/audible/coyawoo3,
	/datum/decl/emote/audible/coyawoo4,
	/datum/decl/emote/audible/coyawoo5,
	/datum/decl/emote/audible/fennecscream,
	/datum/decl/emote/audible/zoom,
	/datum/decl/emote/audible/mothscream,
	/datum/decl/emote/audible/mothchitter,
	/datum/decl/emote/audible/mothlaugh,
	/datum/decl/emote/audible/multichirp,
	/datum/decl/emote/audible/gnarl,
	/datum/decl/emote/audible/teshsqueak,
	/datum/decl/emote/audible/teshchirp,
	/datum/decl/emote/audible/teshtrill,
	/datum/decl/emote/audible/teshscream,
	/datum/decl/emote/visible/bounce,
	/datum/decl/emote/visible/jiggle,
	/datum/decl/emote/visible/lightup,
	/datum/decl/emote/visible/vibrate,
	/datum/decl/emote/audible/croon,
	/datum/decl/emote/audible/lwarble,
	/datum/decl/emote/audible/croak_skrell,
	/datum/decl/emote/audible/roarbark,
	/datum/decl/emote/audible/dook,
	/datum/decl/emote/audible/caw,
	/datum/decl/emote/audible/caw2,
	/datum/decl/emote/audible/caw_m,
	/datum/decl/emote/audible/gwah
))

GLOBAL_LIST_INIT(simple_mob_default_emotes, list(
	/datum/decl/emote/visible/blink,
	/datum/decl/emote/visible/nod,
	/datum/decl/emote/visible/shake,
	/datum/decl/emote/visible/shiver,
	/datum/decl/emote/visible/collapse,
	/datum/decl/emote/audible/gasp,
	/datum/decl/emote/audible/choke,
	/datum/decl/emote/audible/sneeze,
	/datum/decl/emote/audible/sniff,
	/datum/decl/emote/audible/snore,
	/datum/decl/emote/audible/whimper,
	/datum/decl/emote/audible/whistle,
	/datum/decl/emote/audible/whistle/quiet,
	/datum/decl/emote/audible/whistle/wolf,
	/datum/decl/emote/audible/whistle/summon,
	/datum/decl/emote/audible/yawn,
	/datum/decl/emote/audible/clap,
	/datum/decl/emote/audible/chuckle,
	/datum/decl/emote/audible/cough,
	/datum/decl/emote/audible/cry,
	/datum/decl/emote/audible/sigh,
	/datum/decl/emote/audible/laugh,
	/datum/decl/emote/audible/mumble,
	/datum/decl/emote/audible/grumble,
	/datum/decl/emote/audible/groan,
	/datum/decl/emote/audible/moan,
	/datum/decl/emote/audible/grunt,
	/datum/decl/emote/audible/slap,
	/datum/decl/emote/audible/crack,
	/datum/decl/emote/human/deathgasp,
	/datum/decl/emote/audible/giggle,
	/datum/decl/emote/audible/scream,
	/datum/decl/emote/audible/pain,
	/datum/decl/emote/visible/airguitar,
	/datum/decl/emote/visible/blink_r,
	/datum/decl/emote/visible/bow,
	/datum/decl/emote/visible/salute,
	/datum/decl/emote/visible/flap,
	/datum/decl/emote/visible/aflap,
	/datum/decl/emote/visible/drool,
	/datum/decl/emote/visible/eyebrow,
	/datum/decl/emote/visible/twitch,
	/datum/decl/emote/visible/dance,
	/datum/decl/emote/visible/twitch_v,
	/datum/decl/emote/visible/faint,
	/datum/decl/emote/visible/frown,
	/datum/decl/emote/visible/blush,
	/datum/decl/emote/visible/wave,
	/datum/decl/emote/visible/glare,
	/datum/decl/emote/visible/stare,
	/datum/decl/emote/visible/look,
	/datum/decl/emote/visible/point,
	/datum/decl/emote/visible/bellyrub,
	/datum/decl/emote/visible/raise,
	/datum/decl/emote/visible/grin,
	/datum/decl/emote/visible/shrug,
	/datum/decl/emote/visible/smile,
	/datum/decl/emote/visible/pale,
	/datum/decl/emote/visible/tremble,
	/datum/decl/emote/visible/wink,
	/datum/decl/emote/visible/hug,
	/datum/decl/emote/visible/signal,
	/datum/decl/emote/visible/afold,
	/datum/decl/emote/visible/alook,
	/datum/decl/emote/visible/eroll,
	/datum/decl/emote/visible/hbow,
	/datum/decl/emote/visible/hip,
	/datum/decl/emote/visible/holdup,
	/datum/decl/emote/visible/hshrug,
	/datum/decl/emote/visible/crub,
	/datum/decl/emote/visible/erub,
	/datum/decl/emote/visible/fslap,
	/datum/decl/emote/visible/ftap,
	/datum/decl/emote/visible/hrub,
	/datum/decl/emote/visible/hspread,
	/datum/decl/emote/visible/rsalute,
	/datum/decl/emote/visible/rshoulder,
	/datum/decl/emote/visible/squint,
	/datum/decl/emote/visible/tfist,
	/datum/decl/emote/visible/tilt,
	/datum/decl/emote/visible/spin,
	/datum/decl/emote/visible/sidestep,
	/datum/decl/emote/visible/vomit,
	/datum/decl/emote/visible/floorspin,
	/datum/decl/emote/visible/flip,
	/datum/decl/emote/audible/awoo,
	/datum/decl/emote/audible/awoo2,
	/datum/decl/emote/audible/belch,
	/datum/decl/emote/audible/growl,
	/datum/decl/emote/audible/woof,
	/datum/decl/emote/audible/woof2,
	/datum/decl/emote/audible/nya,
	/datum/decl/emote/audible/mrowl,
	/datum/decl/emote/audible/peep,
	/datum/decl/emote/audible/chirp,
	/datum/decl/emote/audible/hoot,
	/datum/decl/emote/audible/weh,
	/datum/decl/emote/audible/merp,
	/datum/decl/emote/audible/myarp,
	/datum/decl/emote/audible/bark,
	/datum/decl/emote/audible/bork,
	/datum/decl/emote/audible/mrow,
	/datum/decl/emote/audible/hypno,
	/datum/decl/emote/audible/hiss,
	/datum/decl/emote/audible/rattle,
	/datum/decl/emote/audible/squeak,
	/datum/decl/emote/audible/geck,
	/datum/decl/emote/audible/baa,
	/datum/decl/emote/audible/baa2,
	/datum/decl/emote/audible/mar,
	/datum/decl/emote/audible/wurble,
	/datum/decl/emote/audible/snort,
	/datum/decl/emote/audible/meow,
	/datum/decl/emote/audible/moo,
	/datum/decl/emote/audible/croak,
	/datum/decl/emote/audible/gao,
	/datum/decl/emote/audible/cackle,
	/datum/decl/emote/audible/squish,
	/datum/decl/emote/audible/spiderchitter,
	/datum/decl/emote/audible/spiderpurr,
	/datum/decl/emote/audible/squeaky,
	/datum/decl/emote/visible/mlem,
	/datum/decl/emote/visible/blep,
	/datum/decl/emote/audible/prbt,
	/datum/decl/emote/audible/gyoh,
	/datum/decl/emote/audible/rumble,
	/datum/decl/emote/audible/fennecscream,
	/datum/decl/emote/audible/zoom,
	/datum/decl/emote/audible/bug_hiss,
	/datum/decl/emote/audible/bug_buzz,
	/datum/decl/emote/audible/bug_chitter,
	/datum/decl/emote/audible/hiss,
	/datum/decl/emote/audible/chirp,
	/datum/decl/emote/audible/warble,
	/datum/decl/emote/audible/vox_shriek,
	/datum/decl/emote/audible/purr,
	/datum/decl/emote/audible/purrlong,
	/datum/decl/emote/audible/dook,
	/datum/decl/emote/audible/caw,
	/datum/decl/emote/audible/caw2,
	/datum/decl/emote/audible/caw_m,
	/datum/decl/emote/audible/gwah
	))

/mob/living/carbon/human/get_available_emotes()
	. = GLOB.human_default_emotes.Copy()
	if(length(species?.default_emotes))
		return . | species.default_emotes

/mob/living/simple_mob/get_available_emotes()
	. = GLOB.simple_mob_default_emotes.Copy()

/mob/living/carbon/human/verb/pose()
	set name = "Set Pose"
	set desc = "Sets a description which will be shown when someone examines you."
	set category = "IC.Settings"

	var/new_pose
	var/quiet_pose = FALSE
	var/include_icon = TRUE
	var/list/pose_options = list()

	new_pose = strip_html_simple(tgui_input_text(src, "This is [src]. [p_they()]...", "Pose", null))
	if(!new_pose)
		pose = null
		remove_pose_indicator()
		return

	if(!read_preference(/datum/preference/toggle/tgui_input_mode))
		var/movement_test = tgui_alert(src, "Cancel Pose On Movement?", "Options", list("No", "Cancel Pose on Movement"))
		if(!movement_test)
			return
		var/icon_test = tgui_alert(src, "Disable Posing Icon?", "Options", list("No", "Disable Pose Icon"))
		if(!icon_test)
			return
		var/quiet_test = tgui_alert(src, "Allow Pose To Be Announced In Chat?", "Options", list("Yes", "Quiet Pose"))
		if(!quiet_test)
			return
		pose_options |= movement_test
		pose_options |= icon_test
		pose_options |= quiet_test
	else
		pose_options = tgui_input_checkboxes(src, "Which options would you like to enable for your poses?", "Pose Options", list("Cancel Pose on Movement", "Disable Pose Icon", "Quiet Pose"), 0)

	pose_move = FALSE
	for(var/o in pose_options)
		if(o == "Cancel Pose on Movement")
			pose_move = TRUE
		if(o == "Disable Pose Icon")
			include_icon = FALSE
		if(o == "Quiet Pose")
			quiet_pose = TRUE

	if(include_icon)
		add_pose_indicator()
	else
		remove_pose_indicator()

	pose = new_pose
	if(!quiet_pose)
		visible_message("[src] [pose]")

/mob/living/carbon/human/proc/add_pose_indicator()
	if(pose_indicator)
		return  //No duplicating

	var/image/pose_icon = image(icon = 'icons/mob/status_indicators.dmi', icon_state = "posing")

	var/our_sprite_x = icon_expected_width * get_icon_scale_x()

	var/x_offset = our_sprite_x - 11
	var/y_offset = 2

	pose_icon.plane = PLANE_STATUS
	pose_icon.layer = HUD_LAYER
	pose_icon.appearance_flags = PIXEL_SCALE|TILE_BOUND|RESET_ALPHA|RESET_TRANSFORM
	pose_icon.color = chat_color
	pose_icon.pixel_y = y_offset
	pose_icon.pixel_x = x_offset

	pose_indicator = pose_icon
	add_overlay(pose_indicator)

/mob/living/carbon/human/proc/remove_pose_indicator()
	if(!pose_indicator)
		return

	cut_overlay(pose_indicator)
	pose_indicator = null

/mob/living/carbon/human/verb/set_flavor()
	set name = "Set Flavour Text"
	set desc = "Sets an extended description of your character's features."
	set category = "IC.Settings"

	var/HTML = "<html><body>"
	HTML += "<tt><center>"
	HTML += span_bold("Update Flavour Text") + " <hr />"
	HTML += "<br></center>"
	HTML += "<a href='byond://?src=\ref[src];flavor_change=general'>General:</a> "
	HTML += TextPreview(flavor_texts["general"])
	HTML += "<br>"
	HTML += "<a href='byond://?src=\ref[src];flavor_change=head'>Head:</a> "
	HTML += TextPreview(flavor_texts["head"])
	HTML += "<br>"
	HTML += "<a href='byond://?src=\ref[src];flavor_change=face'>Face:</a> "
	HTML += TextPreview(flavor_texts["face"])
	HTML += "<br>"
	HTML += "<a href='byond://?src=\ref[src];flavor_change=eyes'>Eyes:</a> "
	HTML += TextPreview(flavor_texts["eyes"])
	HTML += "<br>"
	HTML += "<a href='byond://?src=\ref[src];flavor_change=torso'>Body:</a> "
	HTML += TextPreview(flavor_texts["torso"])
	HTML += "<br>"
	HTML += "<a href='byond://?src=\ref[src];flavor_change=arms'>Arms:</a> "
	HTML += TextPreview(flavor_texts["arms"])
	HTML += "<br>"
	HTML += "<a href='byond://?src=\ref[src];flavor_change=hands'>Hands:</a> "
	HTML += TextPreview(flavor_texts["hands"])
	HTML += "<br>"
	HTML += "<a href='byond://?src=\ref[src];flavor_change=legs'>Legs:</a> "
	HTML += TextPreview(flavor_texts["legs"])
	HTML += "<br>"
	HTML += "<a href='byond://?src=\ref[src];flavor_change=feet'>Feet:</a> "
	HTML += TextPreview(flavor_texts["feet"])
	HTML += "<br>"
	HTML += "<hr />"
	HTML +="<a href='byond://?src=\ref[src];flavor_change=done'>\[Done\]</a>"
	HTML += "<tt></body></html>"

	var/datum/browser/popup = new(src, "flavor_changes", "Change Flavortexts", 430, 300)
	popup.set_content(HTML)
	popup.open()

/mob/living/carbon/human/proc/toggle_tail(var/setting,var/message = 0)
	if(!tail_style || !tail_style.ani_state)
		if(message)
			to_chat(src, span_warning("You don't have a tail that supports this."))
		return 0

	var/new_wagging = isnull(setting) ? !wagging : setting
	if(new_wagging != wagging)
		wagging = new_wagging
		update_tail_showing()
	return 1

/mob/living/carbon/human/proc/toggle_wing(var/setting,var/message = 0)
	if(!wing_style || !wing_style.ani_state)
		if(message)
			to_chat(src, span_warning("You don't have a wingtype that supports this."))
		return 0

	var/new_flapping = isnull(setting) ? !flapping : setting
	if(new_flapping != flapping)
		flapping = new_flapping
		update_wing_showing()
	return 1
